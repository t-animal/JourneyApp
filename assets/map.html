<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
<style type="text/css">
html { height: 100% }
body { height: 100%; margin: 0; padding: 0 }
#map_canvas { height: 100% }
</style>
<script type="text/javascript"
src="http://maps.googleapis.com/maps/api/js?key=WEBAPIKEYGOESHEREBUTSHOULDNOTBECOMMITTEDANDPUTONGITHUB&sensor=true">
</script>
<script type="text/javascript">
var style_runner = [
  {
    "elementType": "labels.text",
    "stylers": [
      { "visibility": "off" }
    ]
  },{
    "elementType": "labels",
    "stylers": [
      { "visibility": "off" }
    ]
  },{
    "stylers": [
      { "invert_lightness": true },
      { "saturation": -36 },
      { "hue": "#ffd500" },
      { "lightness": -50 },
      { "gamma": 1.72 }
    ]
  }
]

var style_chaser = [
  {
    "elementType": "labels.text",
    "stylers": [
      { "visibility": "off" }
    ]
  },{
    "elementType": "labels",
    "stylers": [
      { "visibility": "off" }
    ]
  },{
    "stylers": [
      { "invert_lightness": true },
      { "saturation": -36 },
      { "lightness": -50 },
      { "gamma": 1.72 },
      { "hue": "#ff0011" }
    ]
  }
]
var map;
var startMarker;

//For debugging outside the app:
if(typeof(comm) == 'undefined'){
	comm = {
		getTheme : function(){
			return "THEME_RUNNER";
		},
		
		getStart : function(){
			return {
				lat: 49.596361,
				lon: 11.004311
			}	
		}
	};
}

function initialize() {
	var mapOptions = {
		center: new google.maps.LatLng(start.lat, start.lon),
		zoom: 15,
		disableDefaultUI: true,
		mapTypeId: google.maps.MapTypeId.ROADMAP
	};
	map = new google.maps.Map(document.getElementById("map_canvas"),
			mapOptions);
	
	setTheme();
}

function setTheme(){
    if(comm.getTheme() == "THEME_CHASER"){
       map.setOptions({styles: style_chaser});
    }else if(comm.getTheme() == "THEME_RUNNER"){
       map.setOptions({styles: style_runner});
    }
}
</script>
</head>
<body onload="initialize()">
<div id="map_canvas" style="width:100%; height:100%"></div>
</body>
</html>
